<!--  -->
{{ $link :=  .Destination }}
{{ if or (strings.HasPrefix $link "http") (strings.HasPrefix $link "HAHAHUGOSHORTCODE") }}
{{ else }}
    {{ $link = ref .Page $link }}
{{ end }}

<a href="{{ $link | safeURL }}"{{ with .Title}} title="{{ . }}"{{ end }}{{ if strings.HasPrefix $link "http" }} target="_blank" rel="noopener"{{ end }}>{{ .Text | safeHTML }}</a>